<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2563eb">
	<meta name="referrer" content="strict-origin-when-cross-origin">
	<link rel="manifest" href="/manifest.json">
	<title>Trenem Tingting Kos - Critical Thinking Course</title>
	<script>
	    let deferredPrompt;
	    window.addEventListener('beforeinstallprompt', (e) => {
	        e.preventDefault();
	        deferredPrompt = e;
	        document.getElementById('installBtn').style.display = 'block';
	    });
	</script>

	<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        header {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

		

        .menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            padding: 20px;
            background: #f8fafc;
        }

        .menu-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
            text-align: center;
        }

        .menu-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.2);
            border-color: #2563eb;
        }

        .menu-item h2 {
            color: #1e293b;
            font-size: 20px;
            margin-bottom: 8px;
        }

        .menu-item .count {
            color: #64748b;
            font-size: 14px;
        }

		.video-list {
		    display: none;
		}
		.video-list.active {
		    display: block;
		}

        .back-btn {
            display: inline-block;
            padding: 10px 20px;
            background: #e2e8f0;
            color: #1e293b;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            font-size: 16px;
            transition: background 0.3s ease;
        }

        .back-btn:hover {
            background: #cbd5e1;
        }

        .video-item {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .video-item:hover {
            border-color: #2563eb;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
        }

        .video-item h3 {
            color: #1e293b;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .video-player {
            display: none;
            padding: 20px;
        }

        .video-player.active {
            display: block;
        }

        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 12px;
            margin-top: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-title {
            font-size: 22px;
            color: #1e293b;
            margin: 20px 0 10px 0;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            h1 {
                font-size: 24px;
            }

            .menu {
                grid-template-columns: 1fr;
            }
        }

		#mainMenu {
		    display: grid;
		}
		#mainMenu:not(.active) {
		    display: none;
		}

		#installBanner {
		    display: flex;  /* Add this - was missing */
		    position: fixed;
		    top: 0;
		    left: 0;
		    right: 0;
		    background: #ef4444;
		    color: white;
		    padding: 15px;
		    text-align: center;
		    z-index: 1000;
		    font-weight: 600;
		    justify-content: center;
		    align-items: center;
		    gap: 10px;
		}

		#installBtn {
		    background: #dc2626;
		    color: white;
		    border: none;
		    padding: 10px 20px;
		    border-radius: 25px;
		    font-size: 16px;
		    cursor: pointer;
		}

	</style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Trenem Tingting Kos</h1>
            <p class="subtitle">Ol Video klip blong helpem tija</p>
        </header>

		<div id="installBanner" style="display: none; position: fixed; top: 0; left: 0; right: 0; background: #ef4444; color: white; padding: 15px; text-align: center; z-index: 1000; font-weight: 600;">
		    <button id="installBtn" onclick="installApp()" style="background: #dc2626; color: white; border: none; padding: 10px 20px; border-radius: 25px; font-size: 16px; cursor: pointer; margin-right: 10px;">üì± Install App</button>
		    <button onclick="document.getElementById('installBanner').style.display='none'" style="background: transparent; color: white; border: 1px solid white; padding: 10px 15px; border-radius: 20px; cursor: pointer;">‚úï</button>
		</div>
		
		<div id="appleInstall" style="display: none; position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.9); color: white; padding: 20px; border-radius: 12px; max-width: 300px; z-index: 1001; font-size: 14px; line-height: 1.5;">
		    <strong>üì± Install on iPhone/iPad</strong><br>
		    1Ô∏è‚É£ Tap <strong>Share</strong> button<br>
		    2Ô∏è‚É£ Scroll to <strong>Add to Home Screen</strong><br>
		    3Ô∏è‚É£ Tap <strong>Add</strong><br>
		    <button onclick="document.getElementById('appleInstall').style.display='none'" style="background: #2563eb; color: white; border: none; padding: 10px 20px; border-radius: 8px; margin-top: 10px; cursor: pointer;">Got it!</button>
		</div>


        <div id="mainMenu" class="menu">
            <div class="menu-item" onclick="showModule('module1')">
                <h2>üìò Module 1</h2>
                <p class="count">9 videos</p>
            </div>
            <div class="menu-item" onclick="showModule('module2')">
                <h2>üìó Module 2</h2>
                <p class="count">9 videos</p>
            </div>
            <div class="menu-item" onclick="showModule('module3')">
                <h2>üìô Module 3</h2>
                <p class="count">6 videos</p>
            </div>
            <div class="menu-item" onclick="showModule('resources')">
                <h2>üìö Resources</h2>
                <p class="count">4 videos</p>
            </div>
        </div>

        <div id="module1" class="video-list">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2 style="font-size: 24px; color: #1e293b; margin-bottom: 20px;">Module 1</h2>
            <div class="video-item" onclick="playVideo('Gm0mcrgAhuU', 'TTK Series Module 1 Intro + Lesen 1')">
                <h3>Intro + Lesen 1</h3>
            </div>
            <div class="video-item" onclick="playVideo('Vzr0LEaIJUs', 'TTK Series Module 1 Lesson 2')">
                <h3>Lesson 2</h3>
            </div>
            <div class="video-item" onclick="playVideo('EQCWdVa_Y5Q', 'TTK Module 1 Lesen 3')">
                <h3>Lesen 3</h3>
            </div>
            <div class="video-item" onclick="playVideo('wu-JBpdG0H8', 'TTK Module 1 Lesen 4')">
                <h3>Lesen 4</h3>
            </div>
            <div class="video-item" onclick="playVideo('Wxa53hfmc0E', 'TTK Module 1 Lesen 5')">
                <h3>Lesen 5</h3>
            </div>
            <div class="video-item" onclick="playVideo('eoLk25XWJpc', 'TTK Module 1 Lesen 6')">
                <h3>Lesen 6</h3>
            </div>
            <div class="video-item" onclick="playVideo('6v_DgLeZsbI', 'TTK Module 1 Lesen 7')">
                <h3>Lesen 7</h3>
            </div>
            <div class="video-item" onclick="playVideo('ahR6nbAWsmQ', 'TTK Module 1 Lesen 8')">
                <h3>Lesen 8</h3>
            </div>
            <div class="video-item" onclick="playVideo('dUp0hRhSQeI', 'TTK Module 1 Lesen 8b')">
                <h3>Lesen 8b</h3>
            </div>
        </div>

        <div id="module2" class="video-list">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2 style="font-size: 24px; color: #1e293b; margin-bottom: 20px;">Module 2</h2>
            <div class="video-item" onclick="playVideo('Z2YrBjiHL3E', 'TTK Series Module 2 Intro')">
                <h3>Intro</h3>
            </div>
            <div class="video-item" onclick="playVideo('DPdDQ3inRoc', 'TTK Series Module 2 Lesson 1')">
                <h3>Lesson 1</h3>
            </div>
            <div class="video-item" onclick="playVideo('FNgaLGpYPHA', 'TTK Series Module 2 Lesson 2')">
                <h3>Lesson 2</h3>
            </div>
            <div class="video-item" onclick="playVideo('Hq8kBo3trfw', 'TTK Series Module 2 Lesson 3')">
                <h3>Lesson 3</h3>
            </div>
            <div class="video-item" onclick="playVideo('f8JhrNZ-S6o', 'TTK Series Module 2 Lesson 4')">
                <h3>Lesson 4</h3>
            </div>
            <div class="video-item" onclick="playVideo('z__-eMsn8-4', 'TTK Series Module 2 Lesson 5')">
                <h3>Lesson 5</h3>
            </div>
            <div class="video-item" onclick="playVideo('0F5AMxB9cRg', 'TTK Series Module 2 Lesson 6')">
                <h3>Lesson 6</h3>
            </div>
            <div class="video-item" onclick="playVideo('oBUXBkTfNoE', 'TTK Series Module 2 Lesson 7')">
                <h3>Lesson 7</h3>
            </div>
            <div class="video-item" onclick="playVideo('EYk8ob0q9Ck', 'TTK Series Module 2 Ol Risos (resources)')">
                <h3>Ol Risos (resources)</h3>
            </div>
        </div>

        <div id="module3" class="video-list">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2 style="font-size: 24px; color: #1e293b; margin-bottom: 20px;">Module 3</h2>
            <div class="video-item" onclick="playVideo('Z3D5Th-gfAY', 'TTK Module 3 Lesen 2')">
                <h3>Lesen 2</h3>
            </div>
            <div class="video-item" onclick="playVideo('vp44XxkiFnI', 'TTK Module 3 Lesen 3')">
                <h3>Lesen 3</h3>
            </div>
            <div class="video-item" onclick="playVideo('smbvabUHUoQ', 'TTK Module 3 Lesen 4')">
                <h3>Lesen 4</h3>
            </div>
            <div class="video-item" onclick="playVideo('KKeEAXfwbIo', 'TTK Module 3 Lesen 5')">
                <h3>Lesen 5</h3>
            </div>
            <div class="video-item" onclick="playVideo('dKq-N27NMOY', 'TTK Module 3 Lesen 6')">
                <h3>Lesen 6</h3>
            </div>
            <div class="video-item" onclick="playVideo('8S2RsXTsUJ8', 'TTK Module 3 Lesson 7')">
                <h3>Lesson 7</h3>
            </div>
        </div>

        <div id="resources" class="video-list">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2 style="font-size: 24px; color: #1e293b; margin-bottom: 20px;">Resources</h2>
            <div class="video-item" onclick="playVideo('8lGXluacQ10', 'Bigfala Storian blong Baebol (AI avatar)')">
                <h3>Bigfala Storian blong Baebol (AI avatar)</h3>
            </div>
            <div class="video-item" onclick="playVideo('0Cuoqnhu3lc', 'TTK Bildim Wan Strong Fandesen')">
                <h3>TTK Bildim Wan Strong Fandesen</h3>
            </div>
            <div class="video-item" onclick="playVideo('X3bWMFwDTa0', 'Bigfala Storian blong Baebol in Song - Yanik Tekon')">
                <h3>Bigfala Storian blong Baebol in Song - Yanik Tekon</h3>
            </div>
            <div class="video-item" onclick="playVideo('08RpJjnxOfA', 'Bigfala Storian with action')">
                <h3>Bigfala Storian with action</h3>
            </div>
        </div>

        <div id="videoPlayer" class="video-player">
            <button class="back-btn" onclick="backToList()">‚Üê Back to Videos</button>
            <h2 class="video-title" id="videoTitle"></h2>
            <div class="video-wrapper">
			<iframe id="youtubeFrame" 
					referrerpolicy="strict-origin-when-cross-origin"
					allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" 
					frameborder="0" allowfullscreen>
			</iframe>
            </div>
        </div>
    </div>

	<script>
		let currentModule = '';

		function showMenu() {
		    document.getElementById('mainMenu').classList.add('active');  // Use class
		    document.querySelectorAll('.video-list').forEach(el => el.classList.remove('active'));
		    document.getElementById('videoPlayer').classList.remove('active');
		}
		
		function showModule(moduleId) {
		    currentModule = moduleId;
		    document.getElementById('mainMenu').classList.remove('active');
		    document.querySelectorAll('.video-list').forEach(el => el.classList.remove('active'));
		    document.getElementById(moduleId).classList.add('active');
		}

		function playVideo(videoId, title) {
			document.getElementById('mainMenu').style.display = 'none';
			document.querySelectorAll('.video-list').forEach(el => el.style.display = 'none');
			document.getElementById('videoPlayer').classList.add('active');
			
			document.getElementById('videoTitle').textContent = title;
			const frame = document.getElementById('youtubeFrame');
			frame.src = `https://www.youtube.com/embed/${videoId}?rel=0&modestbranding=1&autoplay=1`;
		}

		function backToList() {
			document.getElementById('videoPlayer').classList.remove('active');
			document.getElementById('youtubeFrame').src = '';
			if (currentModule) {
				document.getElementById(currentModule).style.display = 'block';
			}
		}

	    let deferredPrompt;
	
	    // PWA Install Detection
	    window.addEventListener('appinstalled', () => {
	        deferredPrompt = null;
	        document.getElementById('installBanner').style.display = 'none';
	    });
	    
	    window.addEventListener('beforeinstallprompt', (e) => {
	        e.preventDefault();
	        deferredPrompt = e;
	        document.getElementById('installBanner').style.display = 'flex';  // Show whole banner
	    });
	    
	    function installApp() {
	        if (deferredPrompt) {
	            deferredPrompt.prompt();
	            deferredPrompt.userChoice.then((choiceResult) => {
	                if (choiceResult.outcome === 'accepted') {
	                    document.getElementById('installBanner').style.display = 'none';
	                }
	                deferredPrompt = null;
	            });
	        }
	    }

		// Apple PWA Detection
		if ('safari' in window && !window.chrome) {
		    setTimeout(() => {
		        document.getElementById('appleInstall').style.display = 'block';
		    }, 2000);
		}


		// PWA Service Worker Registration
		if ('serviceWorker' in navigator) {
		    window.addEventListener('load', () => {
		        navigator.serviceWorker.register('/sw.js');
		    });
		}

</script>
</body>
</html>
